<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ambiguitätstoleranz – Selbsteinschätzung für freiberufliche Trainer:innen (12 Items)</title>
  <style>
    :root {
      --bg: #f8fafc; /* slate-50 */
      --card: #ffffff;
      --ink: #0f172a; /* slate-900 */
      --muted: #475569; /* slate-600 */
      --ring: #e2e8f0; /* slate-200 */
      --row: #f1f5f9; /* slate-100 */
      --accent: #0f172a;
      --good: #059669; /* emerald-600 */
      --mid: #b45309; /* amber-700 */
      --low: #dc2626; /* red-600 */
    }
    * { box-sizing: border-box; }
    body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; background: var(--bg); color: #1f2937; }
    .wrap { max-width: 980px; margin: 0 auto; padding: 24px; }
    .card { background: var(--card); border: 1px solid var(--ring); border-radius: 16px; padding: 24px; box-shadow: 0 2px 10px rgba(2,6,23,0.04); }
    h1 { margin: 0 0 6px; font-size: clamp(20px, 3vw, 32px); color: var(--ink); }
    p.lead { margin: 0 0 16px; color: var(--muted); }
    table { width: 100%; border-collapse: collapse; }
    thead th { text-align: left; font-weight: 600; color: #334155; padding: 12px 8px; border-bottom: 1px solid var(--ring); }
    tbody td { padding: 10px 8px; vertical-align: top; }
    tbody tr:nth-child(even) { background: var(--row); }
    .qid { display:inline-flex; align-items:center; justify-content:center; width:24px; height:24px; border-radius:999px; background:#e2e8f0; color:#475569; font-size:12px; margin-right:8px; }
    .neg { color:#64748b; font-size:12px; margin-left:6px; font-style: italic; }
    .scaleCell { text-align:center; width:58px; }
    .controls { display:flex; flex-wrap: wrap; gap: 10px; margin-top: 16px; }
    button { appearance: none; border: 1px solid var(--ring); background: #fff; color:#334155; padding: 10px 14px; border-radius: 14px; cursor: pointer; }
    button.primary { background: var(--accent); color:#fff; border-color: var(--accent); }
    button:hover { filter: brightness(0.98); }
    .warn { display:flex; gap:8px; align-items:center; color: #b91c1c; margin-top: 10px; }
    .result { margin-top: 18px; border:1px solid var(--ring); background:#f8fafc; padding:16px; border-radius: 14px; }
    .meta { font-size: 13px; color:#64748b; }
    .pill { display:inline-block; padding:4px 10px; border-radius:999px; font-weight:600; }
    .pill.low { background:#fee2e2; color: var(--low); }
    .pill.mid { background:#fef3c7; color: var(--mid); }
    .pill.high { background:#dcfce7; color: var(--good); }
    details { margin-top: 10px; }
    .grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap:10px; margin-top:10px; }
    .tile { background:#fff; border:1px solid var(--ring); border-radius:12px; padding:10px; }
    footer { margin-top: 18px; font-size:12px; color:#64748b; }
    @media print { button, .controls { display: none !important; } .card { box-shadow: none; } body { background: #fff; } }
    label.radio { display:inline-flex; align-items:center; gap:6px; cursor:pointer; }
    input[type="radio"] { width:16px; height:16px; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="region" aria-label="Ambiguitätstoleranz – Selbsteinschätzung">
      <header>
        <h1>Ambiguitätstoleranz – Selbsteinschätzung für freiberufliche Trainer:innen & Berater:innen</h1>
        <p class="lead">Bitte bewerten Sie jede Aussage von 1 (stimme überhaupt nicht zu) bis 5 (stimme voll zu). Alle 12 Items sollten beantwortet werden.</p>
      </header>

      <div class="tableWrap" aria-live="polite">
        <table>
          <thead>
            <tr>
              <th>Aussage</th>
              <th class="scaleCell">1</th>
              <th class="scaleCell">2</th>
              <th class="scaleCell">3</th>
              <th class="scaleCell">4</th>
              <th class="scaleCell">5</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>

      <div id="warn" class="warn" style="display:none">⚠️ Bitte beantworten Sie alle 12 Items, um das Ergebnis zu sehen.</div>

      <div class="controls">
        <button class="primary" id="btnShow">Ergebnis anzeigen</button>
        <button id="btnReset">Zurücksetzen</button>
        <button id="btnPrint">Drucken / PDF</button>
        <button id="btnCSV">Ergebnisse als CSV</button>
      </div>

      <div id="result" class="result" style="display:none">
        <div class="meta">Gesamtwerte-Bereich: 12 – 60 Punkte (nach Umkodierung der negativ gepolten Items).</div>
        <div style="margin-top:8px; font-size:18px">
          <strong>Ihr Gesamtscore: </strong><span id="score">0</span> Punkte
        </div>
        <div style="margin-top:4px">
          <strong>Einstufung: </strong>
          <span id="badge" class="pill">—</span>
          <span id="desc" style="margin-left:4px; color:#475569"></span>
        </div>

        <details>
          <summary style="cursor:pointer; font-weight:600; margin-top:8px">Details je Item (Rohwert → umkodiert)</summary>
          <div id="detailGrid" class="grid"></div>
        </details>

        <div style="margin-top:10px; font-size:13px; color:#475569">
          <strong>Hinweis zur Interpretation:</strong>
          <ul>
            <li><em>Niedrig (12–26):</em> hoher Wunsch nach Eindeutigkeit & Planbarkeit; klare Strukturen unterstützen Entscheidungen.</li>
            <li><em>Mittel (27–41):</em> Umgang mit Unsicherheit ist situationsabhängig; Austausch mit Auftraggeber:innen kann Klarheit schaffen.</li>
            <li><em>Hoch (42–60):</em> hohe Flexibilität & Lernorientierung; nützlich in Akquise- und Projektsituationen mit wechselnden Anforderungen.</li>
          </ul>
        </div>
      </div>

      <footer>© <span id="year"></span> – Ambiguitätstoleranz-Selbsteinschätzung (Trainer:innen). Dieses Tool dient der Selbstreflexion und ersetzt keine Diagnostik.</footer>
    </div>
  </div>

  <script>
    const QUESTIONS = [
      { id: 1, text: "Wenn ein potenzieller Kunde unklare Erwartungen formuliert, kann ich gelassen damit umgehen.", reverse: false },
      { id: 2, text: "Ich fühle mich wohl, wenn ich Trainings- oder Beratungsthemen flexibel an eine neue Zielgruppe anpassen muss.", reverse: false },
      { id: 3, text: "Es stresst mich, wenn Kund:innen kurzfristig ihre Anforderungen ändern.", reverse: true },
      { id: 4, text: "Wenn ein Akquisegespräch anders verläuft als erwartet, bleibe ich ruhig und anpassungsfähig.", reverse: false },
      { id: 5, text: "Unterschiedliche Sichtweisen innerhalb eines Auftraggeberteams empfinde ich als spannend und lehrreich.", reverse: false },
      { id: 6, text: "Ich mag es nicht, wenn ich ein Projekt beginne, ohne alle Details geklärt zu haben.", reverse: true },
      { id: 7, text: "Auch in komplexen Projekten mit vielen Beteiligten finde ich meinen Weg, selbst wenn Zuständigkeiten unklar sind.", reverse: false },
      { id: 8, text: "Wenn Kund:innen meine Konzepte kritisch hinterfragen, fühle ich mich verunsichert.", reverse: true },
      { id: 9, text: "Ich kann gut mit Situationen umgehen, in denen mehrere plausible Lösungswege existieren.", reverse: false },
      { id: 10, text: "Wenn ein Auftrag scheitert oder nicht zustande kommt, sehe ich das eher als Lernchance denn als Rückschlag.", reverse: false },
      { id: 11, text: "Ich empfinde es als unangenehm, wenn ich in einem Beratungsgespräch keine eindeutige Antwort geben kann.", reverse: true },
      { id: 12, text: "Ich sehe Unsicherheit in Kundenprojekten als natürlichen Bestandteil des freiberuflichen Arbeitens an.", reverse: false },
    ];

    const tbody = document.getElementById('tbody');
    const warn = document.getElementById('warn');
    const result = document.getElementById('result');
    const scoreEl = document.getElementById('score');
    const badge = document.getElementById('badge');
    const desc = document.getElementById('desc');
    const detailGrid = document.getElementById('detailGrid');

    const answers = {}; // id -> 1..5

    function renderTable() {
      tbody.innerHTML = '';
      QUESTIONS.forEach((q, idx) => {
        const tr = document.createElement('tr');
        const tdQ = document.createElement('td');
        const qid = document.createElement('span');
        qid.className = 'qid';
        qid.textContent = q.id;
        const qtext = document.createElement('span');
        qtext.textContent = q.text + ' ';
        tdQ.appendChild(qid);
        tdQ.appendChild(qtext);
        if (q.reverse) {
          const em = document.createElement('em');
          em.className = 'neg';
          em.textContent = '(negativ gepolt)';
          tdQ.appendChild(em);
        }
        tr.appendChild(tdQ);

        for (let v = 1; v <= 5; v++) {
          const td = document.createElement('td');
          td.className = 'scaleCell';
          const label = document.createElement('label');
          label.className = 'radio';
          label.setAttribute('aria-label', `Item ${q.id}: ${v}`);
          const input = document.createElement('input');
          input.type = 'radio';
          input.name = `q-${q.id}`;
          input.value = String(v);
          input.checked = answers[q.id] === v;
          input.addEventListener('change', () => { answers[q.id] = v; });
          label.appendChild(input);
          label.appendChild(document.createTextNode(String(v)));
          td.appendChild(label);
          tr.appendChild(td);
        }
        tbody.appendChild(tr);
      });
    }

    function reverseScore(v) { return 6 - v; }

    function categorize(total) {
      if (total <= 26) return { level: 'Niedrig', cls: 'pill low', desc: 'hoher Wunsch nach Klarheit/Planbarkeit in Kundenprojekten' };
      if (total <= 41) return { level: 'Mittel', cls: 'pill mid', desc: 'Umgang mit Ungewissheit ist kontextabhängig' };
      return { level: 'Hoch', cls: 'pill high', desc: 'flexible, gelassene Haltung gegenüber wechselnden Anforderungen' };
    }

    function allAnswered() {
      return QUESTIONS.every(q => Number.isInteger(answers[q.id]));
    }

    function compute() {
      let total = 0;
      const items = QUESTIONS.map(q => {
        const raw = answers[q.id];
        const adj = q.reverse ? reverseScore(raw) : raw;
        total += adj;
        return { id: q.id, raw, adj, reverse: q.reverse };
      });
      return { total, items };
    }

    function showResult() {
      if (!allAnswered()) {
        warn.style.display = '';
        result.style.display = 'none';
        return;
      }
      warn.style.display = 'none';
      const { total, items } = compute();
      scoreEl.textContent = String(total);
      const cat = categorize(total);
      badge.className = cat.cls;
      badge.textContent = cat.level;
      desc.textContent = '— ' + cat.desc;
      // details
      detailGrid.innerHTML = '';
      items.forEach(it => {
        const d = document.createElement('div');
        d.className = 'tile';
        d.innerHTML = `<div style="font-size:14px"><strong>Item ${it.id}</strong> ${it.reverse ? '<span class="neg">(negativ)</span>' : ''}</div>
                       <div style="font-size:14px; color:#334155">Antwort: <strong>${it.raw}</strong> → Umkodiert: <strong>${it.adj}</strong></div>`;
        detailGrid.appendChild(d);
      });
      result.style.display = '';
    }

    function resetAll() {
      for (const key in answers) delete answers[key];
      renderTable();
      warn.style.display = 'none';
      result.style.display = 'none';
    }

    function toCSV() {
      if (!allAnswered()) { showResult(); return; }
      const { total, items } = compute();
      const header = ['Item','Negativ gepolt','Antwort (1-5)','Umkodiert (1-5)'];
      const rows = items.map(r => [r.id, r.reverse ? 'Ja' : 'Nein', r.raw, r.adj]);
      const totalRow = ['Gesamt','','', total];
      const csv = [header, ...rows, totalRow].map(r => r.join(';')).join('\n');
      const blob = new Blob(['\uFEFF' + csv], { type: 'text/csv;charset=utf-8;' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'Ambiguitaetstoleranz_Trainerinnen_Test.csv'; a.click();
      URL.revokeObjectURL(url);
    }

    // Wire up controls
    document.getElementById('btnShow').addEventListener('click', showResult);
    document.getElementById('btnReset').addEventListener('click', resetAll);
    document.getElementById('btnPrint').addEventListener('click', () => window.print());
    document.getElementById('btnCSV').addEventListener('click', toCSV);

    document.getElementById('year').textContent = new Date().getFullYear();
    renderTable();
  </script>
</body>
</html>
